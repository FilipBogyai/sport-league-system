<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	template="/WEB-INF/templates/default.xhtml">
	<ui:param name="currentTitle" value="My leagues" />
	<ui:define name="content">
        <div class="header_01">My leagues</div>

        <div class="section_w480">
            <div class="image_wrapper fl_img">
                <img src="#{request.contextPath}/resources/css/images/league.jpg"
                     alt="League" />
            </div>
            <p class="em_text">On this page below you can find the list of
                leagues you are signed in. You can show matches in those leagues.</p>
        </div>

        <div class="section_w480">

			<div class="header_03">List of my leagues:</div>

			<c:choose>
				<c:when test="#{empty userLeagues}">
					<em>No matches found.</em>
				</c:when>
				<c:otherwise>
					<table id="table">
						<thead>
							<tr>
								<th>Name</th>
								<th>Description</th>
								<th>Sport</th>
                                <th>League Matches</th>
							</tr>
						</thead>
						<c:forEach items="#{userLeagues}" var="league">
							<tr>
								<td>#{league.name}</td>
								<td>#{league.description}</td>
								<td>#{league.sport.name}</td>
                                <td>
                                    <h:link value="View matches" outcome="/leagues/matches/index">
                                        <f:param name="leagueID" value="#{league.id}" />
                                    </h:link>
                                </td>
							</tr>
						</c:forEach>
					</table>
				</c:otherwise>
			</c:choose>

			<div class="cleaner"></div>
		</div>
	</ui:define>
</ui:composition>